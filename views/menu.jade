extend layout


mixin itempanel(item, index)
   #accordion.panel-group
      .panel.panel-default
        .panel-heading
          h4.panel-title
            a.accordion-toggle(data-toggle='collapse', data-parent='#accordion', href='##{ index }')
              =item.name
        div(id=index).panel-collapse.collapse
          .panel-body
            .row-fluid
              .col-md-3
                #tempimage
              .col-md-6
//| Details about item, like rating, reviews
                p item.overall
                form.form-group(id='dish'+index+'form', action='/reviewdish', method='post')
                  textarea.form-control(rows='3', placeholder='Add your comment')
                  input.dishsubmit(id='dish'+index, type='submit', value='Post Review')

block flash
    if flash.error
        each error in flash.error
            .alert.alert-error.alert-dismissable=error
              button.close(type="button", data-dismiss="alert" aria-hidden="true")
                | x
    if flash.info
        each error in flash.info
            .alert.alert-success.alert-dismissable=error
              button.close(type="button", data-dismiss="alert" aria-hidden="true")
                | x

block topbar
    .row-fluid
        .row-fluid
          .col-md-4
            | {{restaurant image}}
            #tempimage
          .style
            .col-md-8{height:120px;}
          .col-md-8
            h3 #{restaurant.name}
            p #{restaurant.contact.number}
            p #{restaurant.contact.address}

            form.form-group(id='rstars', type='submit', action='/', method='post')
              span.inline-rating
                ul.star-rating.small-star
                    li.current-rating(style='width: 30%;') 
                    li
                      input.glyphicon.glyphicon-star.starsubmit.one-star(id='rstars1', type='submit', title='1 star out of 5') 1
                    li
                      input.glyphicon.glyphicon-star.starsubmit.two-stars(id='rstars2', type='submit', title='2 stars out of 5') 2
                    li
                      input.glyphicon.glyphicon-star.starsubmit.three-stars(id='rstars3', type='submit', title='3 stars out of 5') 3
                    li
                      input.glyphicon.glyphicon-star.starsubmit.four-stars(id='rstars4', type='submit', title='4 stars out of 5') 4
                    li
                      input.glyphicon.glyphicon-star.starsubmit.five-stars(id='rstars5', type='submit', title='5 stars out of 5') 5

    .row-fluid
        .col-md-10
          each val, index in restaurant.menu
            +itempanel(val, index)

block append scripts 
  script(type='text/javascript', src='/js/dishreview.js')
