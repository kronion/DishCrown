extend layout


mixin itempanel(item, index)
   #accordion.panel-group
      .panel.panel-default
        .panel-heading
          h4.panel-title
            a.accordion-toggle(data-toggle='collapse', data-parent='#accordion', href='##{ index }')
              =item.name
        div(id=index).panel-collapse.collapse
          .panel-body
            .row-fluid
 //             .col-md-3
 //             .col-md-6
                p item.overall
                form.form-group(id='dish'+index+'form', action='/reviewdish', method='post')
                  form.form-group(id='dstars'+index+'form', action='/dishstarreview', method='post')
                    input.empty.glyphicon.glyphicon-star-empty.dishstarsubmit(id='d'+index+'1', type='submit')
                    input.empty.glyphicon.glyphicon-star-empty.dishstarsubmit(id='d'+index+'2', type='submit')
                    input.empty.glyphicon.glyphicon-star-empty.dishstarsubmit(id='d'+index+'3', type='submit')
                    input.empty.glyphicon.glyphicon-star-empty.dishstarsubmit(id='d'+index+'4', type='submit')
                    input.empty.glyphicon.glyphicon-star-empty.dishstarsubmit(id='d'+index+'5', type='submit')

                  textarea.form-control(rows='3', placeholder='Add your comment')
                  input.dishsubmit(id='dish'+index, type='submit', value='Post Review')

block flash
    if flash.error
        each error in flash.error
            .alert.alert-error.alert-dismissable=error
              button.close(type="button", data-dismiss="alert" aria-hidden="true")
                | x
    if flash.info
        each error in flash.info
            .alert.alert-success.alert-dismissable=error
              button.close(type="button", data-dismiss="alert" aria-hidden="true")
                | x

block topbar
    .row-fluid
        .row-fluid
          .col-md-4
            img.img-thumbnail(src='#{restaurant.image'})
          .style
            .col-md-8{height:120px;}
          .col-md-8
            h3 #{restaurant.name}
            p #{restaurant.contact.number}
            p #{restaurant.contact.address}

            // each review in restaurant.reviews 
              // p review

            form.form-group(id='rstars', type='submit', action='/', method='post')
                input.empty.glyphicon.glyphicon-star-empty.rstarsubmit(id='r1', type='submit')
                input.empty.glyphicon.glyphicon-star-empty.rstarsubmit(id='r2', type='submit')
                input.empty.glyphicon.glyphicon-star-empty.rstarsubmit(id='r3', type='submit')
                input.empty.glyphicon.glyphicon-star-empty.rstarsubmit(id='r4', type='submit')
                input.empty.glyphicon.glyphicon-star-empty.rstarsubmit(id='r5', type='submit')

    .row-fluid
        .col-md-10
          each val, index in restaurant.menu
            +itempanel(val, index)

block append scripts 
  script(type='text/javascript', src='/js/dishreview.js')
